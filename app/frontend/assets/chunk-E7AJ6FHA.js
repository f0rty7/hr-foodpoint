import{a as F,b as y,c as l,d as O,e as E,f as k,g as D,h as T,i as I,j as N}from"./chunk-DFX67BBP.js";import{a as M}from"./chunk-YXJCFBXV.js";import{Aa as g,Ba as P,Ja as i,La as f,Za as v,aa as a,ea as h,fb as x,ha as _,hb as S,la as m,oa as C,pa as u,ra as c,ta as d,wa as n,xa as o,ya as p}from"./chunk-F2YS2TH7.js";import{c as b}from"./chunk-2VMXMS7J.js";function V(r,t){if(r&1&&(n(0,"div",5),i(1),o()),r&2){let s=P();a(),f(" ",s.authService.error()," ")}}function q(r,t){r&1&&(n(0,"span",10),i(1,"Name is required"),o())}function A(r,t){r&1&&(n(0,"span",10),i(1,"Please enter a valid email"),o())}function G(r,t){r&1&&(n(0,"span",10),i(1,"Phone number is required"),o())}function L(r,t){r&1&&(n(0,"span",10),i(1,"Password must be at least 6 characters"),o())}function j(r,t){r&1&&(n(0,"span",10),i(1,"Please confirm your password"),o())}function B(r,t){r&1&&(n(0,"span",10),i(1,"Passwords do not match"),o())}function R(r,t){r&1&&(p(0,"span",29),i(1," Creating account... "))}function H(r,t){r&1&&i(0," Create Account ")}var z=class r{constructor(t,s){this.fb=t;this.authService=s;this.authService.clearError(),this.signupForm=this.fb.group({name:["",[l.required,l.minLength(2)]],email:["",[l.required,l.email]],phone:["",[l.required,l.pattern(/^\+?[\d\s-()]+$/)]],password:["",[l.required,l.minLength(6)]],confirmPassword:["",[l.required]],agreeToTerms:[!1,[l.requiredTrue]]}),this.signupForm.get("confirmPassword")?.setValidators([l.required,this.passwordMatchValidator.bind(this)])}signupForm;showPassword=!1;showConfirmPassword=!1;togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}passwordMatchValidator(t){let s=this.signupForm?.get("password")?.value,e=t.value;return s&&e&&s!==e?{passwordMismatch:!0}:null}isFieldInvalid(t){let s=this.signupForm.get(t);return!!(s&&s.invalid&&(s.dirty||s.touched))}hasPasswordMismatch(){let t=this.signupForm.get("confirmPassword");return!!(t?.hasError("passwordMismatch")&&(t?.dirty||t?.touched))}onSubmit(){return b(this,null,function*(){if(this.signupForm.valid){let t=this.signupForm.value;(yield this.authService.signup({name:t.name,email:t.email,phone:t.phone,password:t.password}))||console.log("Sign up failed")}else Object.keys(this.signupForm.controls).forEach(t=>{this.signupForm.get(t)?.markAsTouched()})})}static \u0275fac=function(s){return new(s||r)(h(I),h(M))};static \u0275cmp=_({type:r,selectors:[["app-signup"]],decls:56,vars:26,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"auth-title"],[1,"auth-subtitle"],[1,"auth-error"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","name",1,"form-label"],["id","name","type","text","formControlName","name","placeholder","Enter your full name",1,"form-input"],[1,"error-message"],["for","email",1,"form-label"],["id","email","type","email","formControlName","email","placeholder","Enter your email",1,"form-input"],["for","phone",1,"form-label"],["id","phone","type","tel","formControlName","phone","placeholder","Enter your phone number",1,"form-input"],["for","password",1,"form-label"],[1,"password-input-container"],["id","password","formControlName","password","placeholder","Create a password",1,"form-input",3,"type"],["type","button",1,"password-toggle",3,"click"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm your password",1,"form-input",3,"type"],[1,"form-options"],[1,"checkbox-container"],["type","checkbox","formControlName","agreeToTerms"],[1,"checkmark"],["href","#",1,"terms-link"],["type","submit",1,"auth-button",3,"disabled"],[1,"auth-footer"],["routerLink","/auth/signin",1,"auth-link"],[1,"loading-spinner"]],template:function(s,e){s&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),i(4,"Create Account"),o(),n(5,"p",4),i(6,"Join us today"),o()(),m(7,V,2,1,"div",5),n(8,"form",6),g("ngSubmit",function(){return e.onSubmit()}),n(9,"div",7)(10,"label",8),i(11,"Full Name"),o(),p(12,"input",9),m(13,q,2,0,"span",10),o(),n(14,"div",7)(15,"label",11),i(16,"Email"),o(),p(17,"input",12),m(18,A,2,0,"span",10),o(),n(19,"div",7)(20,"label",13),i(21,"Phone Number"),o(),p(22,"input",14),m(23,G,2,0,"span",10),o(),n(24,"div",7)(25,"label",15),i(26,"Password"),o(),n(27,"div",16),p(28,"input",17),n(29,"button",18),g("click",function(){return e.togglePasswordVisibility()}),i(30),o()(),m(31,L,2,0,"span",10),o(),n(32,"div",7)(33,"label",19),i(34,"Confirm Password"),o(),n(35,"div",16),p(36,"input",20),n(37,"button",18),g("click",function(){return e.toggleConfirmPasswordVisibility()}),i(38),o()(),m(39,j,2,0,"span",10)(40,B,2,0,"span",10),o(),n(41,"div",21)(42,"label",22),p(43,"input",23)(44,"span",24),i(45," I agree to the "),n(46,"a",25),i(47,"Terms & Conditions"),o()()(),n(48,"button",26),m(49,R,2,0)(50,H,1,0),o()(),n(51,"div",27)(52,"p"),i(53,"Already have an account? "),n(54,"a",28),i(55,"Sign in"),o()()()()()),s&2&&(a(7),d(e.authService.error()?7:-1),a(),u("formGroup",e.signupForm),a(4),c("error",e.isFieldInvalid("name")),a(),d(e.isFieldInvalid("name")?13:-1),a(4),c("error",e.isFieldInvalid("email")),a(),d(e.isFieldInvalid("email")?18:-1),a(4),c("error",e.isFieldInvalid("phone")),a(),d(e.isFieldInvalid("phone")?23:-1),a(5),c("error",e.isFieldInvalid("password")),u("type",e.showPassword?"text":"password"),a(),C("aria-label",e.showPassword?"Hide password":"Show password"),a(),f(" ",e.showPassword?"\u{1F441}\uFE0F":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F"," "),a(),d(e.isFieldInvalid("password")?31:-1),a(5),c("error",e.isFieldInvalid("confirmPassword")||e.hasPasswordMismatch()),u("type",e.showConfirmPassword?"text":"password"),a(),C("aria-label",e.showConfirmPassword?"Hide password":"Show password"),a(),f(" ",e.showConfirmPassword?"\u{1F441}\uFE0F":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F"," "),a(),d(e.isFieldInvalid("confirmPassword")?39:-1),a(),d(e.hasPasswordMismatch()?40:-1),a(8),u("disabled",e.signupForm.invalid||e.authService.isLoading()),a(),d(e.authService.isLoading()?49:50))},dependencies:[v,S,x,N,k,y,F,O,E,D,T],styles:[".auth-container[_ngcontent-%COMP%]{min-height:100dvh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.auth-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2.5rem;box-shadow:0 20px 60px #0000001a;width:100%;max-width:480px}@media (max-width: 480px){.auth-card[_ngcontent-%COMP%]{padding:2rem 1.5rem;max-width:100%}}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.auth-error[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:.75rem 1rem;border-radius:8px;margin-bottom:1.5rem;font-size:.875rem;text-align:center}.auth-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1a1a1a;margin:0 0 .5rem}@media (max-width: 480px){.auth-title[_ngcontent-%COMP%]{font-size:1.75rem}}.auth-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin:0}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-input[_ngcontent-%COMP%]{padding:.875rem 1rem;border:2px solid #e5e7eb;border-radius:8px;font-size:1rem;transition:all .2s ease;background-color:#f9fafb}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background-color:#fff;box-shadow:0 0 0 3px #667eea1a}.form-input.error[_ngcontent-%COMP%]{border-color:#ef4444;background-color:#fef2f2}.form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.password-input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{flex:1;padding-right:3rem}.password-input-container[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:.75rem;background:none;border:none;cursor:pointer;padding:.25rem;font-size:1.25rem;color:#666;transition:color .2s ease;z-index:1}.password-input-container[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover{color:#333}.password-input-container[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:focus{outline:2px solid #667eea;outline-offset:2px;border-radius:4px}.error-message[_ngcontent-%COMP%]{font-size:.875rem;color:#ef4444;margin-top:.25rem}.form-options[_ngcontent-%COMP%]{margin:.5rem 0}.checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;font-size:.875rem;color:#374151;cursor:pointer;line-height:1.4}.checkbox-container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin:0;margin-top:.125rem;width:1rem;height:1rem;accent-color:#667eea;flex-shrink:0}.terms-link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:500}.terms-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.auth-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:.875rem 1.5rem;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:.5rem;margin-top:.5rem}.auth-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 8px 25px #667eea66}.auth-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.auth-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none;box-shadow:none}.loading-spinner[_ngcontent-%COMP%]{width:1rem;height:1rem;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:2rem}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#666;margin:0}.auth-link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600}.auth-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{z as SignupComponent};
