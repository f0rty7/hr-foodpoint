import{b as v,c as m,d as M,e as O,f as y,g as w,h as S,i as E,k as F}from"./chunk-C7YLC2JQ.js";import{a as k}from"./chunk-YWGCHH3L.js";import{i as x}from"./chunk-UOSHT3SP.js";import{Ab as g,Cb as n,Db as h,Ia as a,Na as b,Ua as _,ha as u,hb as s,hc as P,ib as c,lb as p,mb as t,nb as e,ob as d,qb as f}from"./chunk-6RWDGMY6.js";import"./chunk-7CGTOI24.js";function z(l,i){l&1&&(t(0,"span",16),n(1,"Name is required"),e())}function I(l,i){l&1&&(t(0,"span",16),n(1,"Phone number is required"),e())}function U(l,i){l&1&&(d(0,"span",34),n(1," Updating... "))}function D(l,i){l&1&&n(0," Update Profile ")}var N=class l{constructor(i,r){this.fb=i;this.authService=r;this.profileForm=this.fb.group({name:["",[m.required,m.minLength(2)]],email:["",[m.required,m.email]],phone:["",[m.required,m.pattern(/^\+?[\d\s-()]+$/)]],role:[""]}),this.loadUserData()}profileForm;isLoading=u(!1);error=u(null);loadUserData(){let i=this.authService.currentUser();i&&this.profileForm.patchValue({name:i.name,email:i.email,phone:i.phone,role:""})}getInitials(){let i=this.authService.currentUser();return i?.name?i.name.split(" ").map(r=>r[0]).join("").toUpperCase().slice(0,2):"U"}getFormattedDate(){return"January 2024"}isFieldInvalid(i){let r=this.profileForm.get(i);return!!(r&&r.invalid&&(r.dirty||r.touched))}resetForm(){this.loadUserData()}showChangePassword(){alert("Change password functionality would be implemented here")}async onSubmit(){if(this.profileForm.valid){this.isLoading.set(!0),this.error.set(null);try{let i=this.profileForm.value;console.log("Updating profile:",i),await new Promise(r=>setTimeout(r,1e3)),alert("Profile updated successfully!")}catch{this.error.set("Failed to update profile. Please try again.")}finally{this.isLoading.set(!1)}}else Object.keys(this.profileForm.controls).forEach(i=>{this.profileForm.get(i)?.markAsTouched()})}static \u0275fac=function(r){return new(r||l)(b(E),b(k))};static \u0275cmp=_({type:l,selectors:[["app-profile"]],decls:71,vars:14,consts:[[1,"profile-container"],[1,"profile-header"],[1,"profile-title"],[1,"profile-subtitle"],[1,"profile-content"],[1,"profile-avatar-section"],[1,"avatar-container"],[1,"avatar"],[1,"avatar-text"],["type","button",1,"change-avatar-btn"],[1,"profile-form-section"],[1,"profile-form",3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"form-group"],["for","name",1,"form-label"],["id","name","type","text","formControlName","name","placeholder","Enter your full name",1,"form-input"],[1,"error-message"],["for","email",1,"form-label"],["id","email","type","email","formControlName","email","placeholder","Enter your email","readonly","",1,"form-input"],[1,"field-note"],["for","phone",1,"form-label"],["id","phone","type","tel","formControlName","phone","placeholder","Enter your phone number",1,"form-input"],["for","role",1,"form-label"],["id","role","type","text","formControlName","role","placeholder","Your role","readonly","",1,"form-input"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"account-settings-section"],[1,"section-title"],[1,"settings-grid"],[1,"setting-item"],[1,"setting-info"],["type","button",1,"btn","btn-outline",3,"click"],[1,"status-badge","active"],[1,"loading-spinner"]],template:function(r,o){r&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"User Profile"),e(),t(4,"p",3),n(5,"Manage your account information"),e()(),t(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"span",8),n(11),e()(),t(12,"button",9),n(13," Change Photo "),e()()(),t(14,"div",10)(15,"form",11),f("ngSubmit",function(){return o.onSubmit()}),t(16,"div",12)(17,"div",13)(18,"label",14),n(19,"Full Name"),e(),d(20,"input",15),s(21,z,2,0,"span",16),e(),t(22,"div",13)(23,"label",17),n(24,"Email"),e(),d(25,"input",18),t(26,"small",19),n(27,"Email cannot be changed"),e()(),t(28,"div",13)(29,"label",20),n(30,"Phone Number"),e(),d(31,"input",21),s(32,I,2,0,"span",16),e(),t(33,"div",13)(34,"label",22),n(35,"Role"),e(),d(36,"input",23),t(37,"small",19),n(38,"Role is assigned by admin"),e()()(),t(39,"div",24)(40,"button",25),f("click",function(){return o.resetForm()}),n(41," Reset "),e(),t(42,"button",26),s(43,U,2,0)(44,D,1,0),e()()()(),t(45,"div",27)(46,"h2",28),n(47,"Account Settings"),e(),t(48,"div",29)(49,"div",30)(50,"div",31)(51,"h3"),n(52,"Change Password"),e(),t(53,"p"),n(54,"Update your password to keep your account secure"),e()(),t(55,"button",32),f("click",function(){return o.showChangePassword()}),n(56," Change Password "),e()(),t(57,"div",30)(58,"div",31)(59,"h3"),n(60,"Account Status"),e(),t(61,"p"),n(62,"Your account is currently active"),e()(),t(63,"span",33),n(64,"Active"),e()(),t(65,"div",30)(66,"div",31)(67,"h3"),n(68,"Member Since"),e(),t(69,"p"),n(70),e()()()()()()()),r&2&&(a(11),h(o.getInitials()),a(4),p("formGroup",o.profileForm),a(5),g("error",o.isFieldInvalid("name")),a(),c(o.isFieldInvalid("name")?21:-1),a(4),g("error",o.isFieldInvalid("email")),a(6),g("error",o.isFieldInvalid("phone")),a(),c(o.isFieldInvalid("phone")?32:-1),a(8),p("disabled",o.isLoading()),a(2),p("disabled",o.profileForm.invalid||o.isLoading()),a(),c(o.isLoading()?43:44),a(27),h(o.getFormattedDate()))},dependencies:[P,x,F,y,v,M,O,w,S],styles:['.profile-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem;min-height:100dvh}@media (max-width: 768px){.profile-container[_ngcontent-%COMP%]{padding:1rem}}.profile-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#333;margin-bottom:.5rem}@media (max-width: 768px){.profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]{font-size:2rem}}.profile-header[_ngcontent-%COMP%]   .profile-subtitle[_ngcontent-%COMP%]{font-size:1.125rem;color:#666;margin:0}.profile-content[_ngcontent-%COMP%]{display:grid;gap:2rem;grid-template-columns:1fr}@media (min-width: 1024px){.profile-content[_ngcontent-%COMP%]{grid-template-columns:300px 1fr;grid-template-rows:auto auto;grid-template-areas:"avatar form" "settings settings"}}@media (min-width: 1024px){.profile-avatar-section[_ngcontent-%COMP%]{grid-area:avatar}}.avatar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014}.avatar[_ngcontent-%COMP%]{width:222px;height:222px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:1rem}.avatar[_ngcontent-%COMP%]   .avatar-text[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;font-weight:700}.change-avatar-btn[_ngcontent-%COMP%]{background-color:transparent;border:2px solid #667eea;color:#667eea;padding:.5rem 1rem;border-radius:6px;font-weight:500;cursor:pointer;transition:all .2s ease}.change-avatar-btn[_ngcontent-%COMP%]:hover{background-color:#667eea;color:#fff}@media (min-width: 1024px){.profile-form-section[_ngcontent-%COMP%]{grid-area:form}}.profile-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:12px;box-shadow:0 2px 8px #00000014}.form-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem;margin-bottom:2rem}@media (min-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#374151;font-size:.875rem;text-transform:uppercase;letter-spacing:.05em}.form-input[_ngcontent-%COMP%]{padding:.875rem 1rem;border:2px solid #e5e7eb;border-radius:8px;font-size:1rem;transition:all .2s ease;background-color:#f9fafb}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background-color:#fff;box-shadow:0 0 0 3px #667eea1a}.form-input[readonly][_ngcontent-%COMP%]{background-color:#f3f4f6;color:#6b7280;cursor:not-allowed}.form-input.error[_ngcontent-%COMP%]{border-color:#ef4444;background-color:#fef2f2}.form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.field-note[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;font-style:italic}.error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:.875rem;font-weight:500}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]{flex-direction:column}}.btn[_ngcontent-%COMP%]{padding:.875rem 1.5rem;border-radius:8px;font-weight:600;font-size:.875rem;cursor:pointer;transition:all .2s ease;border:none;display:flex;align-items:center;gap:.5rem;justify-content:center}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#667eea;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#5a67d8}.btn.btn-secondary[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e5e7eb}.btn.btn-outline[_ngcontent-%COMP%]{background-color:transparent;border:2px solid #667eea;color:#667eea}.btn.btn-outline[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#667eea;color:#fff}.loading-spinner[_ngcontent-%COMP%]{width:1rem;height:1rem;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (min-width: 1024px){.account-settings-section[_ngcontent-%COMP%]{grid-area:settings}}.account-settings-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#333;margin-bottom:1.5rem}.settings-grid[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:1fr}@media (min-width: 768px){.settings-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}}.setting-item[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 8px #00000014;display:flex;flex-direction:column;justify-content:space-between;align-items:center;gap:1rem}@media (max-width: 768px){.setting-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}.setting-item[_ngcontent-%COMP%]   .setting-info[_ngcontent-%COMP%]{flex:1}.setting-item[_ngcontent-%COMP%]   .setting-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#333;margin:0 0 .5rem}.setting-item[_ngcontent-%COMP%]   .setting-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0;font-size:.875rem}.status-badge[_ngcontent-%COMP%]{padding:.375rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-badge.active[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}']})};export{N as ProfileComponent};
